---
- summary: |
    Регистрация пользователя
  requirement: |
    Открыта страница регистрации
  prerequisites: |
    Пользователь не зарегистрирован в системе
  test-data: |
    Логин = Aleksandr
    Пароль = Qwerty123123
    email = aleksandr@yandex.ru
  steps:
    - Нажать кнопку "Регистрация".
    - Ввести Nickname Aleksandr
    - Ввести Email aleksandr@yandex.ru
    - Ввести Password Qwerty123123
    - Повторить Password в поле "Password Confirmation"
    - Нажать кнопку "Submit"
  expected-result: |
    Пользователь успешно зарегистрирован и перенаправлен на главную страницу.

- summary: |
    Регистрация с уже существующим адресом электронной почты
  requirement: |
    Открыта страница регистрации
  prerequisites: |
    Пользователь зарегистрирован в системе
  test-data: |
    Логин = Aleksandr
    Пароль = Qwerty123123
    Email = aleksandr@yandex.ru
  steps:
    - Нажать кнопку "Регистрация"
    - Ввести Nickname Aleksandr
    - Ввести Email aleksandr@yandex.ru
    - Ввести Password Qwerty123123
    - Повторить Password в поле "Password Confirmation"
    - Нажать кнопку "Submit"
  expected-result: |
    Появляется сообщение об ошибке: "Email is already taken"
    
- summary: |
    Авторизация с некорректным паролем
  requirement: |
    При неправильном пароле пользователь должен получить сообщение об ошибке
  prerequisites: |
    Открыта страница авторизации
  test-data: |
    Логин = Aleksandr
    Пароль = Qwerty1234512345
  steps:
    - Ввести логин Aleksandr
    - Ввести пароль Qwerty1234512345
    - Нажать кнопку "Submit"
  expected-result: |
    Появляется сообщение об ошибке

- summary: |
    Авторизация с корректными учетными данными
  requirement: |
    При правильных логине и пароле пользователь должен успешно авторизоваться
  prerequisites: |
    Открыта страница авторизации
  test-data: |
    Логин = Aleksandr
    Пароль = Qwerty123123
  steps:
    - Ввести логин Aleksandr
    - Ввести пароль Qwerty123123
    - Нажать кнопку «Войти»
  expected-result: |
    Пользователь успешно авторизован и перенаправлен на главную страницу

- summary: |
    Проверка успешное создание игры с другом
  requirement: |
    При нажатии кнопки "Create battle" игра с другом должна успешно начаться
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Email = aleksandr@yandex.ru
    Пароль = Qwerty123123
  steps:
    - Ввести email aleksandr@yandex.ru
    - Ввести пароль Qwerty123123
    - Нажать кнопку "Submit"
    - Нажать кнопку "GREATE A GAME"
    - В режиме выбора соперника, выбрать "With a friend"
    - В форме "Choose opponent" выбрать друга из выпадающего списка
    - Нажать на кнопку "Greate invite"
  expected-result: |
    Игра с другом запущена
    
- summary: |
    Проверка возможности создания игры без регистрации
  requirement: |
    Пользователь должен иметь возможность создать игру без регистрации
  prerequisites: |
    Пользователь не авторизован
  test-data: |
    no-data
  steps:
    - На главной странице нажать на кнопку "TRY SIMPLE BATTLE"
  expected-result: |
    Игра успешно создана

- summary: |
    Проверка успешного создания игры с ботом
  requirement: |
    При нажатии кнопки "Create battle" игра с ботом должна успешно начаться
  prerequisites: |
    Пользователь авторизован в системе
  test-data: |
    Email = aleksandr@yandex.ru
    Пароль = Qwerty123123
  steps:
    - Ввести email aleksandr@yandex.ru
    - Ввести пароль Qwerty123123
    - Нажать кнопку "Submit"
    - Нажать кнопку "GREATE A GAME"
    - В режиме выбора соперника, выбрать "With a bot"
    - Нажать на кнопку "Greate battle"
  expected-result: |
    Игра с ботом успешно создана, пользователь перенаправлен на страницу игры

- summary: |
    Проверка успешного изменения имени в профиле пользователя
  requirement: |
    При нажатии кнопки "Save" имя в профиле изменяется
  prerequisites: |
    Пользователь авторизован в системе
  test-data: |
    Email = aleksandr@yandex.ru
    Пароль = Qwerty123123
    Новое имя = Aleks
  steps:
    - Ввести email aleksandr@yandex.ru
    - Ввести пароль Qwerty123123
    - Нажать кнопку "Submit"
    - Нажать кнопку "Settings"
    - В форме "Your name" ввести имя "Aleks"
    - Нажать на кнопку "Save"
  expected-result: |
    Имя в профиле успешно изменено на "Aleks"

- summary: |
    Проверка невозможности изменения имени в профиле, если имя превышает 16 символов
  requirement: |
    истема должна отображать ошибку, если пользователь пытается сохранить имя длиннее 16 символов
  prerequisites: |
    Пользователь авторизован в системе
  test-data: |
    Email = aleksandr@yandex.ru
    Пароль = Qwerty123123
    Новое имя = Aleks123456789123
  steps:
    - Ввести email aleksandr@yandex.ru
    - Ввести пароль Qwerty123123
    - Нажать кнопку "Submit"
    - Нажать кнопку "Settings"
    - В форме "Your name" ввести имя "Aleks123456789123"
    - Нажать на кнопку "Save"
  expected-result: |
    Система отображает сообщение об ошибке: "Should be 16 character(s) or less"
    
- summary: |
    Авторизация пользователя через "discord"
  requirement: |
    При нажатии кнопки "Sign in with Discord" пользователь должен успешно авторизоваться
  prerequisites: |
    Пользователь не авторизован
  test-data: |
    no-data
  steps:
    - Нажать на главной странице "Sign in"
    - Нажать на кнопку "Sign in with sidcord"
  expected-result: |
    Пользователь успешно авторизован через "discord"
